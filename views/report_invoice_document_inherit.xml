<?xml version="1.0" encoding="utf-8"?>
<odoo>
<data>

    <template id="external_layout_document_inherit" inherit_id="web.external_layout_standard">
        <xpath expr="//div/div[1]" position="replace">
         	<div class="row" >      
            <div class="col-3">
                <img t-if="company.logo" t-att-src="image_data_uri(company.logo)" style="max-height: 90px;margin-top:5px" alt="Logo"/>
            </div>
                   
            <div class="col-9 text-center" style="font-size:17px;">    
            	<strong><span t-field="company.partner_id.name" /></strong><br/> 
                IMPUESTO SOBRE LAS VENTAS - IVA <br/>
                NIT: <span t-field="company.partner_id.formatedNit"/><br/>  
                <i class="fa fa-building-o"/> <span t-field="company.partner_id.street"/> <br/> 
                <p> <i class="fa fa-mobile"/> <span t-field="company.partner_id.mobile"/> | <i class="fa fa-phone"/> <span t-field="company.phone"/></p>
            </div>
        	</div>
        </xpath>

        <xpath expr="//div[@name='company_address']" position="replace"/>

        <xpath expr="//div[@class='row zero_min_height']" position="replace"/>

        <xpath expr="//div[@class='footer o_standard_footer']" position="replace">
        	<div class="text-center" style="border-top: 1px solid black;font-size:17px">
        		<ul class="list-inline mb4">
                    <li t-if="company.email" class="list-inline-item"><i class="fa fa-envelope-o" aria-hidden="true"></i> 
                    <span t-field="company.email"/>
                	</li>
                    <li t-if="company.website" class="list-inline-item"><i class="fa fa-globe" aria-hidden="true"></i> <span t-field="company.website"/></li>
                </ul>

                <div name="financial_infos">
                    <span t-field="company.report_footer"/>
                </div>

                <div t-if="report_type == 'pdf'" class="text-muted">
                    Page: <span class="page"/> / <span class="topage"/>
                </div>
            </div>
        </xpath>
         



    </template> 

    <template id="report_invoice_document_inherit" inherit_id="account.report_invoice_document">
	    <xpath expr="//t[@t-set='address']" position="replace"></xpath>

       <xpath expr="//div[@id='informations']" position="replace">
            <div class="row" style="margin-top:10px; margin-bottom:10px" id="cliente">     
                <div class="col-5" >
                    <b><span>INFORMACIÓN DEL CLIENTE</span></b><br/>
                    Cliente : <span t-field="o.partner_id.name"/><br/>
                   	NIT/C.C: 
                    <span t-if="o.partner_id.formatedNit"><span t-field="o.partner_id.formatedNit"/></span>
                    <t t-else="">
                    <span t-if="o.partner_id.xidentification"><span t-field="o.partner_id.xidentification"/></span>
                    </t><br/>
                    Dir.: <span t-if="o.partner_id.street"><span t-field="o.partner_id.street"/></span><br/>
                    Tel.: <span t-if="o.partner_id.phone"><span t-field="o.partner_id.phone"/>,</span><span t-if="o.partner_id.mobile"><span t-field="o.partner_id.mobile"/></span><br/>
                    Correo: <span t-if="o.partner_id.email"><span t-field="o.partner_id.email"/></span> <br/>
                    <span t-if="o.partner_id.city">Ciudad: <span t-field="o.partner_id.city"/></span><br/>
                   
                </div>
           
                <div id="informations" class="col-4">
	                <div t-if="o.name" name="description">
                      <strong>Observación:</strong>
                      <p class="m-0" t-field="o.name"/>
	                </div>
	                <div t-if="o.date_invoice" name="invoice_date">
                       <strong>Fecha de Expedición:</strong><br/>
                       <span class="m-0" t-field="o.date_invoice"/>
                  </div>
	                <div t-if="o.date_due and o.type == 'out_invoice' and o.state in ('open', 'in_payment', 'paid')" name="due_date">
                       <strong>Fecha de Vencimiento:</strong><br/>
                       <span class="m-0" t-field="o.date_due"/>
	                </div>
	                <div t-if="o.origin" name="origin">
                    	<strong>Fuente:</strong><br/>
                        <span class="m-0" t-field="o.origin"/>
	                </div>
	                <div t-if="o.partner_id.ref" name="customer_code">
                        <strong>Código Cliente:</strong>
                        <span class="m-0" t-field="o.partner_id.ref"/>
	                </div>
	                <div name="reference" t-if="o.reference">
                        <strong>Reference:</strong>
                        <p class="m-0" t-field="o.reference"/>
                    </div>
                    <div>
                     <strong>Comercial:</strong><br/> 
                     <span class="m-0" t-field="o.user_id"/>
                 	</div>

                 	<div t-if="o.payment_term_id" name="payment_term">
                 		 <strong>Plazo de Pago:</strong>
                		<span t-field="o.payment_term_id.name"/>

            		</div>

        		</div>
		    </div>
    	</xpath>

	    <xpath expr="//div[@class='clearfix']" position="replace">
	 		<div class="row" id="total" >
	          	<div t-if="o.tax_line_ids and o.at_least_one_tax_group_enabled()" class="col-7">
	              <table class="table table-condensed">
	                <thead>
	                    <tr>
	                      <th width="60%" align="center">Impuesto</th>
	                      <th width="20%" align="center">Base</th>
	                      <th width="20%" align="right">Monto</th>
	                    </tr>
	                </thead>
		            <tbody>
		                <tr t-foreach="o.tax_line_ids" t-as="t">
		                    <t t-if="not t.tax_id.tax_group_id.not_in_invoice">
		                      <td><span t-field="t.name"/></td>
		                      <td align="center">
		                        <span t-field="t.base" t-field-options="{&quot;widget&quot;: &quot;monetary&quot;, &quot;display_currency&quot;: &quot;o.currency_id&quot;}"/>
		                      </td>
		                      <td align="right">
		                        <span t-field="t.amount" t-field-options="{&quot;widget&quot;: &quot;monetary&quot;, &quot;display_currency&quot;: &quot;o.currency_id&quot;}"/>
		                      </td>
		                  	</t>
		                </tr>
		              </tbody>
	                  </table>
	             </div>

				<div class="col-5">
	                <table class="table table-sm">
	                    <tr class="border-black">
	                    	<td><strong>Subtotal</strong></td>
	                        <td class="text-right">
	                        	<span t-field="o.amount_untaxed" t-field-options="{&quot;widget&quot;: &quot;monetary&quot;, &quot;display_currency&quot;: &quot;o.currency_id&quot;}"/>
	                        </td>
	                    </tr>
	                    <t t-foreach="o._get_tax_amount_by_group()" t-as="amount_by_group">
	                    	<tr>
	                        	<td><span t-esc="amount_by_group[0]"/></td>
	                        	<td class="text-right">
	                        		<span t-esc="amount_by_group[1]"/>
	                        	</td>
	                    	</tr>
	                    </t>
	                    <tr class="border-black">
	                        <td><strong>Total</strong></td>
	                        <td class="text-right">
	                            <span t-field="o.amount_total" t-field-options="{&quot;widget&quot;: &quot;monetary&quot;, &quot;display_currency&quot;: &quot;o.currency_id&quot;}"/>
	                        </td>
	                    </tr>
	                </table>
	            </div>
	        </div>
		</xpath>

        <xpath expr="//p[@name='note']" position="after">
            <div class="row" style="page-break-inside: avoid; margin-top:35px">
                
                <div id="pn-right" class="col-3">
                        <p><strong>Recibido y aceptado por:</strong></p>
                </div>

                <div id="pn-right" class="col-3">
                        <span>______________<br/>Firma / Sello</span>
                </div>
                <div id="pn-right" class="col-3">
                        <span>______________<br/>NIT o C.C.</span>
                </div>
                <div id="pn-right" class="col-3">
                        <span>______________<br/>Fecha</span>
                </div>
            </div>

            <div style="border-top: 1px solid black;font-size:14px">
                <p align="justify">
                  Esta factura de venta se asimila en todos sus efectos legales a un titulo valor según la ley 1231 de Julio de 2008. Favor consignar a Cuenta de ahorros <strong t-field="o.partner_bank_id.acc_number"/>, <strong t-field="o.partner_bank_id.bank_id.name"/>  
                  <br/>
                  Se presume que la persona que recibe la mercancía y firma la factura esta autorizada por el comprador o su representante legal para comprometerlo sin que requiera conocimiento previo la persona.<br/>
                </p> 
            </div>
            <div style="border-top: 1px solid black;" align="center">
                <span>Documento generado a través de Odoo S.A y administrado por INTRESCO S.A.S con NIT:901.228.066-4<br/></span> 
            </div>
        </xpath>

     	<xpath expr="//p[@t-if='o.reference']" position="replace">
	        <!--p t-if="o.reference">
	        Por favor utilice la siguiente referencia para su pago : <span t-field="o.reference"/>
	       	</p-->
    	</xpath>

 		

	  	<xpath expr="//p[@name='comment']" position="replace">
	    <p t-if="o.comment or o.team_id">
	        <span t-if="o.comment">
	        	<strong >Información adicional:</strong>
	        	<span t-field="o.comment"/>
	        </span>
	        <!--span t-if="o.team_id">
	        	<span style="font-weight:bold;">Equipo de Ventas:</span> <span t-field="o.team_id"/>
	        </span-->
	    </p>
	   	</xpath>

	   	<xpath expr="//p[@name='payment_term']" position="replace">
 			<!--p t-if="o.payment_term_id" name="payment_term">
                <span t-field="o.payment_term_id.note"/>
            </p-->
        </xpath>

	</template>
</data>
</odoo> 


